import{_ as s,c as e,o as n,a}from"./app.79b9e583.js";const D='{"title":"Mix Assets","description":"","frontmatter":{},"headers":[{"level":2,"title":"Steps to compile scripts","slug":"steps-to-compile-scripts"},{"level":2,"title":"Aliases","slug":"aliases"},{"level":3,"title":"Base folder that links from UP","slug":"base-folder-that-links-from-up"},{"level":2,"title":"Script Orders","slug":"script-orders"},{"level":3,"title":"1. CSS links","slug":"_1-css-links"},{"level":3,"title":"2. Javascript links","slug":"_2-javascript-links"},{"level":2,"title":"Deployment","slug":"deployment"},{"level":3,"title":"Run Laravel Mix at Local","slug":"run-laravel-mix-at-local"},{"level":3,"title":"Example mix-manifest.json","slug":"example-mix-manifest-json"}],"relativePath":"views/backend/laravel-mix/index.md"}',o={name:"views/backend/laravel-mix/index.md"},l=a(`<p><a href="/">home</a> / <a href="/views/">views</a> / <a href="/views/backend/">backend</a> / laravel-mix</p><hr><h1 id="mix-assets" tabindex="-1">Mix Assets <a class="header-anchor" href="#mix-assets" aria-hidden="true">#</a></h1><h1 id="table-of-content" tabindex="-1">Table of content <a class="header-anchor" href="#table-of-content" aria-hidden="true">#</a></h1><ul><li><a href="#steps-to-compile-scripts">Steps to compile scripts</a></li><li><a href="#aliases">Aliases</a></li><li><a href="#script-orders">Script Orders</a><ol><li><a href="#_1-css-links">CSS Links</a></li><li><a href="#_2-javascript-links">Javascript Links</a></li></ol></li><li><a href="#deployment">Deployment</a></li></ul><h2 id="steps-to-compile-scripts" tabindex="-1">Steps to compile scripts <a class="header-anchor" href="#steps-to-compile-scripts" aria-hidden="true">#</a></h2><ol><li>Must be in <code>up</code> repo</li><li><code>cd</code> into mix/backend folder <code>cd mix/backend</code></li><li>Run <code>npm start</code> ( if there is no <code>node_modules</code> folder, please run <code>npm install</code>)</li><li>1st Question - <code>Mix environment?</code> , select an environment from console <code>development</code> or <code>production</code> or <code>watch</code>.</li><li>2nd Question, <code>Compile script for IE?</code>, If we pick <code>yes</code>. it will generate scripts for IE (e.g metronic-plugins.ie.js, plugins.ie.js, app.ie.js)</li><li>3rd Question, <code>Which Stage?</code>, select stage from console <code>local (.test)</code> or <code>uat (*.universal-points.com)</code> or <code>prod (*.united-points.com)</code>. If selected <code>local</code> in this stage question, tailwindcss will purge the local directories. However, if select <code>uat</code> or <code>prod</code>, tailwindcss will purge the online directories <code>(*.universal-points.com)</code> or <code>(*.united-points.com)</code>.</li></ol><hr><blockquote><p>Please make sure the folders are linking as below symbolic, otherwise, the admin and partners repos UI will be broken because all the scripts and assets files are using from common <code>up</code> repo.</p></blockquote><h2 id="aliases" tabindex="-1">Aliases <a class="header-anchor" href="#aliases" aria-hidden="true">#</a></h2><p>Both backend repos (admin and partners) are using the same scripts and assets which is in common <code>up</code> repo, they are linking as <code>base</code> symbolic alaias as below.</p><h3 id="base-folder-that-links-from-up" tabindex="-1">Base folder that links from UP <a class="header-anchor" href="#base-folder-that-links-from-up" aria-hidden="true">#</a></h3><table><thead><tr><th>Link folder</th><th>Aliases</th></tr></thead><tbody><tr><td>up/public/backend/base</td><td>admin/public/backend/base<br> partners/public/backend/base</td></tr></tbody></table><hr><h2 id="script-orders" tabindex="-1">Script Orders <a class="header-anchor" href="#script-orders" aria-hidden="true">#</a></h2><ol><li><a href="#csslinks">CSS Links</a></li><li><a href="#jslinks">JS Links</a></li></ol><h3 id="_1-css-links" tabindex="-1">1. CSS links <a class="header-anchor" href="#_1-css-links" aria-hidden="true">#</a></h3><div class="language-html"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Metronic Global Plugins CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;css/metronic-plugins.css&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Metronic Theme Design, Color CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;css/metronic-theme.css&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Custom Plugins CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;css/plugins.css&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">&lt;!-- Partners Page Level CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;css/partners.css&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">&lt;!-- Admin Page Level CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">     </span><span style="color:#676E95;font-style:italic;">&lt;!-- link rel=&quot;stylesheet&quot; href=&quot;{{ mix(&#39;css/admin.css&#39;,&#39;base&#39;) }}&quot; --&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Application CSS --&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">link</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">rel</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">stylesheet</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">href</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;css/app.css&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><p><strong>1 - Metronic Global Plugins CSS</strong></p><p>This is the original metronic global plugins. Mostly, we don&#39;t change it because if there is a new version of Metronic come to replace these CSS, we can lose our changes.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L48-61" target="_blank" rel="noopener noreferrer">View these metronic global plugins in laravel mix file</a></p><p><strong>2 - Metronic Theme Design, Color CSS</strong></p><p>This is the original metronic theme design and colors. Mostly, we don&#39;t change it because if there is a new version of Metronic come to replace these CSS, we can lose our changes.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L63-L65" target="_blank" rel="noopener noreferrer">View these metronic theme design in laravel mix file</a></p><p><strong>3 - Custom Plugins</strong></p><p>This is the custom plugins. Here, we can add or remove these custom plugins based on the project requirements.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L67-L78" target="_blank" rel="noopener noreferrer">View these custom plugins in laravel mix file</a></p><p><strong>4 - Admin or Partners Page Level CSS</strong></p><p>This is the page level CSS. Any SCSS that compile to <code>admin.css</code>, it will only apply to Admin repo. Any SCSS that compile to <code>partners.css</code>, it will only apply to Partners repo.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L80-L84" target="_blank" rel="noopener noreferrer">View these Admin or Partners page level css in mix file</a></p><p><strong>5 - Application Level CSS</strong></p><p>This is the application level CSS which is for all customizing CSS. However, if it&#39;s not really necessary please use TailwindCSS.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L86-L87" target="_blank" rel="noopener noreferrer">View these custom plugins in laravel mix file</a></p><p><strong>Suggestions</strong></p><ul><li>If it&#39;s possible, please always stick with TailwindCSS, if we can&#39;t change the UI with TailwindCSS anymore then write SCSS in <code>No. 4 Page Level CSS</code> or <code>No. 5 Application Level CSS</code>.</li><li>If you write CSS in <code>No.4 Page Level CSS</code>, make sure to add <code>prefix</code> class for every pages you added**</li></ul><h3 id="_2-javascript-links" tabindex="-1">2. Javascript links <a class="header-anchor" href="#_2-javascript-links" aria-hidden="true">#</a></h3><div class="language-html"><span class="copy"></span><pre><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- IE checking Script --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ asset(&#39;base/site/js/ie-support.js&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Metronic global plugins --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;js/metronic-plugins.js&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Metronic theme design, colors --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;js/metronic-theme.js&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Custom Plugins --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;js/plugins.js&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#676E95;font-style:italic;">&lt;!-- Application JS + Vue JS --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">    &lt;</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">{{ mix(&#39;js/app.js&#39;,&#39;base&#39;) }}</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre></div><hr><p><strong>1 - IE checking Script</strong></p><p>This script is going to check the browser is IE or not. If it&#39;s IE then it will replace the rest scripts with IE version. e.g <code>metronic-plugins.js</code> to <code>metronic-plugins.ie.js</code>.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.ie.js" target="_blank" rel="noopener noreferrer">View IE script compilation in mix file</a></p><p><strong>2 - Metronic Global Plugins</strong></p><p>This is the original metronic global plugins. Mostly, we don&#39;t change it because if there is a new version of Metronic come to replace these JS, we can lose our changes.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L99-L100" target="_blank" rel="noopener noreferrer">View these Metronic global plugins in laravel mix file</a></p><p><strong>3 - Metronic Theme Design, Colors</strong></p><p>This is the original metronic theme design and colors. Mostly, we don&#39;t change it because if there is a new version of Metronic come to replace these JS, we can lose our changes.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L102-L107" target="_blank" rel="noopener noreferrer">View Metronic theme design in laravel mix file</a></p><p><strong>4 - Custom Plugins</strong></p><p>This is the custom plugins. Here, we can add or remove these custom plugins based on the project requirements.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L109-L127" target="_blank" rel="noopener noreferrer">View these custom plugins in laravel mix file</a></p><p><strong>5 - Application JS + Vue JS</strong></p><p>There are two js files <code>vue.js</code> and <code>custom.js</code> will ouput into a single file <code>app.js</code>. <code>custom.js</code> is for custom js, global functions, page level js and <code>vue.js</code> is for vue components using in the application.</p><p><a href="https://github.com/joewinn/up/blob/feature/323-backend/mix/backend/webpack.mix.js?#L129-L139" target="_blank" rel="noopener noreferrer">View application JS + Vue JS in laravel mix file</a></p><p><strong>Suggestions</strong></p><ul><li>Before adding new javascript or CSS, please follow <a href="https://github.com/haohaaorg/dictionary-api-doc/tree/main/backend/views" target="_blank" rel="noopener noreferrer">up-docs related to backend repo</a></li></ul><hr><h2 id="deployment" tabindex="-1">Deployment <a class="header-anchor" href="#deployment" aria-hidden="true">#</a></h2><h3 id="run-laravel-mix-at-local" tabindex="-1">Run Laravel Mix at Local <a class="header-anchor" href="#run-laravel-mix-at-local" aria-hidden="true">#</a></h3><blockquote><p>To reduce the server resources consumption, it&#39;s better to run laravel mix at local first and copy mixed scripts to online web folder.</p></blockquote><ol><li>Run <code>npm start</code> inside <code>mix/backend</code> folder</li><li>Select <code>production</code> for Mix environment.</li><li>Select <code>local (.test)</code> for environment.</li><li>Select <code>.test</code> for domain</li></ol><p>After finishing laravel mix compilation then <strong>copy these below files</strong> to online web folder.</p><ul><li>public/backend/css</li><li>public/backend/js</li><li>public/backend/mix-manifest.json</li></ul><img width="446" alt="backend" src="https://user-images.githubusercontent.com/33022876/163965415-23b81f7b-b80d-4620-b3df-a51ff4d9c160.png"><hr><h3 id="example-mix-manifest-json" tabindex="-1">Example mix-manifest.json <a class="header-anchor" href="#example-mix-manifest-json" aria-hidden="true">#</a></h3><img width="886" alt="Screen Shot 2022-04-29 at 12 19 31 PM" src="https://user-images.githubusercontent.com/33022876/165891002-91cc9b8f-f6f2-4823-b96f-d964e17a13fc.png"><blockquote><p>As it&#39;s for production, scripts must include version hash.</p></blockquote>`,67),t=[l];function p(r,i,c,d,h,u){return n(),e("div",null,t)}var m=s(o,[["render",p]]);export{D as __pageData,m as default};
